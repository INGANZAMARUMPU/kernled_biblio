<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/core/templates/#{configBean.theme}/layout-list.xhtml">
    
    <ui:param name="crudBean" value="#{employeBean}"/>
    
    <ui:define name="breadcrumb"><li><i class="pi pi-angle-right"/></li>
        <li>#{msg['core.breadcrumb.entity']}</li>
    </ui:define>
    
    <ui:define name="title">
        #{msge['core.pages.employe.list.title']}
    </ui:define>
    
    <ui:define name="description">
        #{msge['core.pages.employe.list.description']}
    </ui:define>
    
    <ui:define name="columns">
        <p:column headerText="#{msge['core.pages.employe.fields.nom']}" sortBy="#{item.firstName}" filterBy="#{item.firstName}" filterMatchMode="contains">
            <h:outputText value="#{item.fullName}"/>
        </p:column>
        <p:column headerText="#{msge['core.pages.employe.fields.dateEmbauche']}" sortBy="#{item.dateEmbauche}" filterBy="#{item.dateEmbauche}" filterMatchMode="contains">
            <h:outputText value="#{item.dateEmbauche}">
                <f:convertDateTime pattern="#{crudBean.userSession.settings.formats.shortDatePattern}" type="localDate"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msge['core.pages.employe.fields.numeroMatricule']}" sortBy="#{item.entity.numeroMatricule}" filterBy="#{item.entity.numeroMatricule}" filterMatchMode="contains">
            <h:outputText value="#{item.numeroMatricule}"/>
        </p:column>
        <p:column headerText="#{msge['core.pages.employe.fields.entite-affecter']}" sortBy="#{item.entity.denomination}" filterBy="#{item.entity.denomination}" filterMatchMode="contains">
            <h:outputText value="#{item.entity.denomination}"/>
        </p:column>
    </ui:define>
    
    <ui:define name="actions-plus">
        <p:button outcome="creerCompteUtilisateur" title="#{msge['core.pages.person-compte-utilisateur.create']}" icon="pi pi-user-plus" includeViewParams="true" 
                  class="ui-button-success" rendered="#{item.user == null}">
            <f:param name="employeId" value="#{employeBean.getId(item)}"/>
        </p:button>
    </ui:define>
    
</ui:composition>
