<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
>
    <h:inputHidden id="id" value="#{entiteSettingBean.entity.id}"/>

    <p:fieldset legend="#{msg['core.pages.settings.edit.i18n']}">
        <div class="grid formgrid">
            <div class="field col-12 sm:col-6 md:col-4 lg:col-4">
                <p:outputLabel for="localeCode" value="#{msg['core.pages.settings.edit.localeCode']}"/>
                <p:selectOneMenu id="localeCode" class="w-full" filter="true"
                                 required="true" requiredMessage="#{msg['core.pages.settings.edit.localeCode.required']}"
                                 value="#{entiteSettingBean.entity.localeCode}" label="#{msg['core.pages.settings.edit.localeCode']}">
                    <f:selectItem itemLabel="#{msg['core.components.select.choose']}" noSelectionOption="true"/>
                    <f:selectItems value="#{entiteSettingBean.locales}"/>
                </p:selectOneMenu>
            </div>
            <div class="field col-12 sm:col-6 md:col-4 lg:col-4">
                <p:outputLabel for="timezone" value="#{msg['core.pages.settings.edit.timezone']}"/>
                <p:selectOneMenu id="timezone" class="w-full" filter="true"
                                 required="true" requiredMessage="#{msg['core.pages.settings.edit.timezone.required']}"
                                 value="#{entiteSettingBean.entity.timezone}" label="#{msg['core.pages.settings.edit.timezone']}">
                    <f:selectItem itemLabel="- Veuillez choisir -" noSelectionOption="true"/>
                    <f:selectItems value="#{entiteSettingBean.zones}" var="item"
                                   itemValue="#{item}" itemLabel="#{item}"/>
                </p:selectOneMenu>
            </div>
            <div class="col-12 md:col-6 lg:col-4">
                <p:outputLabel value="#{msge['core.pages.entite-setting.fields.entite-setting.use-app-setting']}"/>
                <br/><p:spacer height="30"/><p:spacer width="50"/>
                <p:toggleSwitch value="#{entiteSettingBean.entity.useAppSettings}" onIcon="pi pi-check" offIcon="pi pi-times"/>
            </div>
            <div class="col-12 md:col-6 lg:col-4">
                <p:outputLabel value="#{msge['core.pages.entite-setting.fields.entite-setting.allow-user-setting']}"/>
                <br/><p:spacer height="30"/><p:spacer width="50"/>
                <p:toggleSwitch value="#{entiteSettingBean.entity.allowUserSettings}" onIcon="pi pi-check" offIcon="pi pi-times"/>
            </div>
            <div class="col-12 md:col-6 lg:col-4">
                <p:outputLabel value="#{msge['core.pages.entite-setting.fields.entite-setting.password_change']}"/>
                <br/><p:spacer height="30"/><p:spacer width="50"/>
                <p:toggleSwitch value="#{entiteSettingBean.entity.forcePasswordChange}" onIcon="pi pi-check" offIcon="pi pi-times"/>
            </div>
        </div>
    </p:fieldset>
    <p:spacer height="30"/>
    <p:fieldset legend="#{msg['core.pages.settings.edit.formats']}">
        <div class="grid formgrid">
            <div class="field col-12">
                <div class="formgroup-inline">
                    <div class="field-checkbox">
                        <p:selectBooleanButton  id="customize" onIcon="pi pi-pencil" offIcon="pi pi-pencil" 
                                                title="#{msg['core.pages.settings.edit.customize']}" 
                                                value="#{entiteSettingBean.customize}">
                            <p:ajax update="customizePanel" listener="#{entiteSettingBean.customizeChanged()}"/>
                        </p:selectBooleanButton>
                        <p:outputLabel for="customize" value="#{msg['core.pages.settings.edit.customize']}"/>
                    </div>
                </div>
            </div>
        </div>
        <h:panelGroup id="customizePanel" class="grid formgrid">
            <ui:include src="fields-formats.xhtml">
                <ui:param name="bean" value="#{entiteSettingBean}"/>
            </ui:include>
        </h:panelGroup>
    </p:fieldset>
</ui:composition>