<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                template="/core/templates/#{configBean.theme}/layout-details.xhtml"
                xmlns:faces="jakarta.faces">
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="entityId" value="#{livreBean.entityId}" />
            <f:viewAction action="#{livreBean.initEntity()}"/>
        </f:metadata>
    </ui:define>

    <ui:param name="crudBean" value="#{livreBean}"/>

    <ui:define name="breadcrumb"><li><i class="pi pi-angle-right"/></li>
        <li>edition Livre</li>
    </ui:define>

    <ui:define name="title">
        <h:outputText value="#{livreBean.entity.titre}"/>
    </ui:define>
    <ui:define name="fields">
        <h:form>
        <p:card>
            <p:fieldset class="mt-2" id="stmpsField" legend="LA LEGENDE">          
                <p:fieldset id="formField">
                    <div>
                        <!-- <div class="field col-12 md:col-6 lg:col-6">
                            <p:outputLabel for="libelle-part-sociale" value="#{msga['adhesion.pages.parametrage.tab-part-sociale-sous-type-membre.libelle-part-sociale']}"/>
                            <p:selectOneMenu class="w-full"  required="true" 
                                            requiredMessage="#{msga['adhesion.pages.sous-type-membre.fileds.parts-sociales.requiredMessage']}"
                                            id="libelle-part-sociale" value="#{livreBean.entity.sousTypeMembrePartSociale.partSociale}" converter="omnifaces.SelectItemsConverter">
                                <f:selectItem itemLabel="#{msg['core.page.fields.select.message']}" noSelectionOption="true"/>
                                <f:selectItems value="#{livreBean.entity.partSociales}" var="item" itemLabel="#{item.libelle}" itemValue="#{item}" />
                            </p:selectOneMenu>
                        </div> -->
                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="titre" value="Intitulé du livre"/>
                            <p:inputText id="titre" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="titre" value="#{livreBean.entity.titre}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="auteur" value="Auteur"/>
                            <p:inputText id="auteur" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="auteur" value="#{livreBean.entity.auteur}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="fonction_auteur" value="Fonction de l'auteur"/>
                            <p:inputText id="fonction_auteur" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="fonction" value="#{livreBean.entity.fonction_auteur}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="editeur" value="Editeur"/>
                            <p:inputText id="editeur" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="editeur" value="#{livreBean.entity.editeur}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="anne_edition" value="Annee d'edition"/>
                            <p:inputText id="anne_edition" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="anne" value="#{livreBean.entity.anne_edition}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="isbn" value="ISBN"/>
                            <p:inputText id="isbn" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="isbn" value="#{livreBean.entity.isbn}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <p:outputLabel for="resume" value="Resumé"/>
                            <p:inputTextarea id="resume" required="true" requiredMessage="#{msga['biblio.pages.required']}"
                                class="w-full" placeholder="resume" value="#{livreBean.entity.resume}"/>
                        </div>

                    </div>
                </p:fieldset>

                <div class="text-right">
                        <div class="mt-2">
                            <p:commandButton id="ajouterStmps" icon="fa fa-plus"
                                rendered="#{livreBean.isAdding()}"
                                value="Ajouter" 
                                action="#{livreBean.add()}"/>
                            <p:commandButton id="editerStmps" icon="fa fa-edit"
                                rendered="#{not livreBean.isAdding()}"
                                value="Modifier" 
                                action="#{livreBean.update()}"/>
                            <p:spacer width="2"/>
                            <p:commandButton id="btnReinit" value="Reinitialiser" 
                                type="reset" class="ui-button-warning" process="stmpsField" 
                                icon="fa fa-refresh">
                                <p:ajax listener="#{livreBean.reinitialiser()}" update="stmpsField"/>
                            </p:commandButton>
                        </div>
                </div>
            </p:fieldset> 
        </p:card>
    </h:form>
    </ui:define>
</ui:composition>
