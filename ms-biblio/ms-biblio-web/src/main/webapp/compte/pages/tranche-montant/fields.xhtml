<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:k="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:faces="jakarta.faces">

    <p:card title="#{msga['compte.pages.grille.edit.title']}">
        <div class="formgrid grid">
            <div class="field col md:col-6 lg:col-6">
                <p:outputLabel for="peEntity" value="#{msga['biblio.pages.organisation.fields.entite']}"/>
                <k:entitySelectOneMenu id="peEntity" value="#{trancheMontantBean.grille.entite}" required="true"
                                       requiredMessage="#{msga['compte.pages.compte-epargne.fields.message-error.entite']}"/>
            </div>
            <div class="field col md:col-6 lg:col-6">
                <p:outputLabel for="libelleGrille" value="#{msga['core.pages.security-policy.label']}"/>
                <p:inputText id="libelleGrille" styleClass="w-full" value="#{trancheMontantBean.grille.libelle}"
                             required="true" requiredMessage="#{msga['compte.pages.compte-epargne.fields.message-error.libelle']}"/>
            </div>
        </div>
    </p:card><br/>
    <p:card id="grille" title="#{msga['compte.pages.compte-epargne.fields.tranche']}">
        <div class="formgrid grid">
            <div class="field col md:col-6 lg:col-6">
                <p:outputLabel for="debut" value="#{msga['compte.pages.tranche.fields.debut']}"/>
                <p:inputText id="debut" styleClass="w-full" value="#{trancheMontantBean.entity.debut}"/>
            </div>
            <div class="field col md:col-6 lg:col-5">
                <p:outputLabel for="fin" value="#{msga['compte.pages.tranche.fields.fin']}"/>
                <p:inputText id="fin" styleClass="w-full" value="#{trancheMontantBean.entity.fin}"/>
            </div>
            <div class="field col md:col-6 lg:col-1">
                <p:commandButton id="ajouter" icon="fa fa-plus" value="#{msga['biblio.pages.membre.fields.ajouter']}" update="@form"
                                 action="#{trancheMontantBean.addTrancheMontant()}" process="@all"  style="margin-top: 1.7em" />
            </div>
        </div>
    </p:card>
    <div class="ui-g-12 col-12">
        <p:dataTable id="table" emptyMessage="#{msga['compte.pages.tranche.fields.empty-messge']}"
                     value="#{trancheMontantBean.trancheMontants}" var="tm" rendered="#{trancheMontantBean.showTable}">
            <p:column headerText="#{msga['compte.pages.tranche.fields.debut']}">
                <h:outputText value="#{tm.debut}"/>
            </p:column>
            <p:column headerText="#{msga['compte.pages.tranche.fields.fin']}">
                <h:outputText value="#{tm.fin}"/>
            </p:column>
        </p:dataTable>
    </div>
</ui:composition>

