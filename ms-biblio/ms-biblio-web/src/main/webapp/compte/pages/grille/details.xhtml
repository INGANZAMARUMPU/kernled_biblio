<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/core/templates/#{configBean.theme}/layout-details.xhtml">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="entityId" value="#{grilleBean.entityId}" />
            <f:viewAction action="#{grilleBean.initEntity()}"/>
        </f:metadata>
    </ui:define>

    <ui:param name="crudBean" value="#{grilleBean}"/>

    <ui:define name="breadcrumb"><li><i class="pi pi-angle-right"/></li>
        <li>#{msg['core.breadcrumb.donnees-reference']}</li>
    </ui:define>

    <ui:define name="title">
        #{msga['compte.pages.grille.details.title']}
    </ui:define>

    <ui:define name="fields">
        <h:form>
            <p:fieldset legend="#{msga['compte.pages.grille.field.label']}" class="mb-3">
                <div class="grid formgrid ui-fluid">
                    <div class="field col-12 md:col-6 lg:col-4">
                        <p:outputLabel for="libelle" value="#{msga['biblio.pages.grille.fields.libelle']}"/>
                        <p:outputLabel id="libelle" class="w-full text-900 font-bold" value="#{grilleBean.entity.libelle}"
                                       />
                    </div>
                    <div class="field col-12 md:col-6 lg:col-4">
                        <p:outputLabel for="entite" value="#{msga['compte.pages.grille.fields.entity']}"/>
                        <p:outputLabel id="entite" class="w-full text-900 font-bold" value="#{grilleBean.entity.entite.label}"
                                       />
                    </div>
                    <div class="field col-12 md:col-6 lg:col-4">
                        <p:outputLabel for="produit" value="#{msga['compte.pages.certificat.fields.produit']}"/>
                        <p:outputLabel id="produit" class="w-full text-900 font-bold" value="#{grilleBean.entity.produit.libelle}"
                                       />
                    </div>
                    <div class="field col-12 md:col-6 lg:col-4">
                        <p:outputLabel for="typeTranche" value="#{msga['compte.pages.type-tranche.list.title']}"/>
                        <p:outputLabel id="typeTranche" class="w-full text-900 font-bold" value="#{grilleBean.entity.typeTranche.libelle}"
                                       />
                    </div>
                    <ui:fragment rendered="#{grilleBean.entity.periodicite != null}">
                        <div class="field col-12 md:col-6 lg:col-4">
                            <p:outputLabel for="periodicite" value="#{msga['compte.pages.grille.fields.periodicite']}"/>
                            <p:outputLabel id="periodicite" class="w-full text-900 font-bold" value="#{grilleBean.entity.periodicite.libelle}"
                                           />
                        </div>
                    </ui:fragment>

                </div>

                <div class="mt-5 grid formgrid ui-fluid">
                    <p:dataTable var="e" paginator="true"  
                                 value="#{grilleBean.entity.tranches}" rows="10" rowKey="#{e.id}">
                        <f:facet name="header">
                            <p:outputLabel class="text-center text-xl" value="#{msga['compte.pages.grille.field.tranches-label']}"/>
                        </f:facet>
                        <p:column headerText="#{msga['compte.pages.grille.fields.debut2']}" >
                            <h:outputText value="#{e.debut}" />
                        </p:column>
                        <p:column headerText="#{msga['compte.pages.grille.fields.fin2']}" >
                            <h:outputText value="#{e.fin}" />
                        </p:column>
                    </p:dataTable>
                </div> 
            </p:fieldset>
        </h:form>
    </ui:define>

</ui:composition>