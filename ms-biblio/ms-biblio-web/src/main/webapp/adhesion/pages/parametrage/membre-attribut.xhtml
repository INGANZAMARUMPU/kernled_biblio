<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
                xmlns:p="http://primefaces.org/ui"
                template="/core/templates/#{configBean.theme}/layout.xhtml"
                xmlns:h="jakarta.faces.html">
    <ui:define name="breadcrumb"><li><i class="pi pi-angle-right"/></li>
        <li>#{msga['biblio.breadcrumb.biblio']}</li>
    </ui:define>

    <ui:define name="title">
        #{msga['biblio.pages.parametrage.fields.parametrages']}
    </ui:define>

    <ui:define name="description">
    </ui:define>
    <ui:define name="content">
        <h:form>
            <p:fieldset>    
                <p:dataTable id="table" editable="true" emptyMessage="#{msga['biblio.pages.membre-attribut-param.fields.aucune-donnee']}" value="#{membreAttributBean.attributs}" var="r">

                    <p:column headerText="#{msga['biblio.pages.membre-attribut-param.fields.libelle-attribut']}">
                        <h:outputText value="#{r.libelle}"/>
                    </p:column>

                    <p:column class="text-center" headerText="#{msga['biblio.pages.membre-attribut-param.fields.visible']}">
                        <p:selectBooleanCheckbox value="#{r.visible}"/>
                    </p:column>

                    <p:column class="text-center" headerText="#{msga['biblio.pages.membre-attribut-param.fields.requis']}">
                        <p:selectBooleanCheckbox value="#{r.requis}"/>
                    </p:column>

                    <p:column headerText="#{msga['biblio.pages.membre-attribut-param.fields.description']}">
                         <p:inputText class="w-full" value="#{r.description}"/>
                    </p:column>
                </p:dataTable>
            </p:fieldset> 
            <div class="grid mt-2">
                <div class="col">
                    <p:commandButton value="#{msg['core.layout.edit.save-update']}" icon="fa fa-edit"
                                     class="ui-button-primary"
                                     actionListener="#{membreAttributBean.beforeUpdate()}"
                                     action="#{membreAttributBean.update()}" ajax="true" >
                        <p:confirm header="#{msg['core.components.confirm.updating']}" icon="pi pi-exclamation-circle" 
                                       message="#{msg['core.components.confirm.update-message']}" />
                    </p:commandButton>
                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                        <p:commandButton value="#{msg['core.components.confirm.yes']}" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                        <p:commandButton value="#{msg['core.components.confirm.no']}" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </p:confirmDialog>
                </div>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
